<h2>Bash: Color in command line prompt PS1<a name="bashcolorincommandlinepromptps1"></a></h2>
<p>Post by Nico Brailovsky @ 2019-07-18 - <a href="/md_blog/2019/0718_BashColorincommandlinepromptPS1.md">Permalink</a> </p>
<p>I'm lately dealing with lots of hosts in different environments (eg local, dev, test, etc). Some actions are safe to perform in some of these hosts, in others not so much. To help quickly figure out which hosts are safe, I wanted to add a color to my Bash prompt (PS1) - for example green for dev, where it's unlikely I'll break anything other than my stuff, red for hosts where carelessness might result in a weekend spent at the office.</p>
<p>The first result I get in Google when trying to set Bash's PS1 to use colors seems to be wrong (or, rather, I wasn't smart enough to make it work). An escape sequence seems to be missing, resulting in weird behavior with new lines; colors work, but line wrapping gets broken. Took me a while to associate broken \n's with colors, but once I did the fix was easy. Check out here for the <a href="https://stackoverflow.com/questions/342093/ps1-line-wrapping-with-colours-problem">proper way to escape color commands in Bash</a>.</p>
<p>And here's my current setup:</p>
<pre lang="c++"><code class="language-c++" lang="c++">export COLOR_SET='\[\e['$THIS_HOST_COLOR'm\]'
export COLOR_RESET='\[\e[0m\]'
# Example:
export PS1='\A '$COLOR_SET'\h'$COLOR_RESET':\w$ '
</code></pre>
<p><a href="https://github.com/nicolasbrailo/nicolasbrailo.github.io/issues/new?title=Comment@/md_blog/2019/0718_BashColorincommandlinepromptPS1.md&amp;body=I%20have%20a%20comment!">Leave a comment</a></p>
<hr />
<h2>The bestest autocomplete for Vim<a name="thebestestautocompleteforvim"></a></h2>
<p>Post by Nico Brailovsky @ 2019-06-11 - <a href="/md_blog/2019/0611_ThebestestautocompleteforVim.md">Permalink</a> </p>
<p>TL;DR: I like <a href="https://github.com/Valloric/YouCompleteMe">YouCompleteMe</a>
A <a href="https://news.ycombinator.com/item?id=19529557">post in Hacker News</a> drew me to look at autocompletion in Vim. After trying a few plugins years before, I settled for the available-by-default autocomplete in Vim. It's pretty dumb, but pretty dumb covers 90% of what I need: autocompletionForReallyUglyOrLongNames.</p>
<p>Vim's omnifunc completer is enough if no fancy features are necessary: fast, available, trivial to setup. I have successfully used omnifunc in fairly large projects, and while it requires familiarity with the codebase, some may argue that's a feature and not a bug.</p>
<p>Now I confess: I don't understand Vundle, Pathogen or any other Vim plugin handler. Second extravagant opinion in this post: I don't see the point of a plugin manager for Vim. I like knowing the source code of every plugin I use well enough so I can troubleshoot it when it breaks (*). I prefer to #include (or, rather, source) them manually. Keeping <a href="https://github.com/nicolasbrailo/Nico.rc">everything in Github</a>, I rarely need to set up a plugin twice. The effort to install and configure a plugin is usually not a lot more than learning how to use that plugin in the first place.</p>
<p>While being Vundle illiterate may have made my experience a bit more complicated than necessary, I still found the experience of installing autocompletion plugins quite horrible (#). <a href="https://github.com/Shougo/deoplete.nvim">Deoplete</a> had me chasing dependencies all over the place and Conquer of Completion seems to require such specific setup of version and plugins that I didn't even attempt to install it.</p>
<p>YouCompleteMe, though, was a pleasant surprise: its documentation explained how to install in three steps, and it is a mostly self-contained plugin. While YCM has a compiled dependency, setting it up is pretty trivial. It just works out of the box.</p>
<p>Took me years but I'm very happy to finally find an autocomplete plugin that "just works" for my basic Vim setup.</p>
<p>(*) For some reason, I only feel this way about Vim</p>
<p>(#) Disclaimer: Re-reading my own text, it may appear as I'm somewhat belittling Deoplete, CoC, Vundle, Pathogen, etc. That's not my intention. I have the maximum respect for these projects. The engineering effort in them is amazing, and I know for a fact they make life easier for a lot of people. I'm just not one of them.</p>
<p><a href="https://github.com/nicolasbrailo/nicolasbrailo.github.io/issues/new?title=Comment@/md_blog/2019/0611_ThebestestautocompleteforVim.md&amp;body=I%20have%20a%20comment!">Leave a comment</a></p>
<hr />
<p><a href="/md_gen/index9.md">Next</a> | <a href="/md_gen/index7.md">Prev</a></p>