<h1>Blog title<a name="blogtitle"></a></h1>
<h1>Menu<a name="menu"></a></h1>
<ul>
<li><a href="/">Home</a></li>
<li><a href="/blog/index.html">Blog</a></li>
<li><a href="/blog/history.html">History</a></li>
</ul>
<h1>Bash: Color in command line prompt PS1<a name="bashcolorincommandlinepromptps1"></a></h1>
<p>I'm lately dealing with lots of hosts in different environments (eg local, dev, test, etc). Some actions are safe to perform in some of these hosts, in others not so much. To help quickly figure out which hosts are safe, I wanted to add a color to my Bash prompt (PS1) - for example green for dev, where it's unlikely I'll break anything other than my stuff, red for hosts where carelessness might result in a weekend spent at the office.</p>
<p>The first result I get in Google when trying to set Bash's PS1 to use colors seems to be wrong (or, rather, I wasn't smart enough to make it work). An escape sequence seems to be missing, resulting in weird behavior with new lines; colors work, but line wrapping gets broken. Took me a while to associate broken \n's with colors, but once I did the fix was easy. Check out here for the <a href="https://stackoverflow.com/questions/342093/ps1-line-wrapping-with-colours-problem">proper way to escape color commands in Bash</a>.</p>
<p>And here's my current setup:</p>
<pre lang="c++" style="display: inline-block; border: 1px solid red;">export COLOR_SET=&#x27;[\e[&#x27;$THIS_HOST_COLOR&#x27;m]&#x27;
export COLOR_RESET=&#x27;[\e[0m]&#x27;
# Example:
export PS1=&#x27;\A &#x27;$COLOR_SET&#x27;\h&#x27;$COLOR_RESET&#x27;:\w$ &#x27;
</pre>
<hr />
<p>Post by Nico Brailovsky @ 2019-07-18 -
    <a href="/blog/2019/0718_BashColorincommandlinepromptPS1.html">Permalink</a> -
    <a href="https://github.com/nicolasbrailo/nicolasbrailo.github.io/issues/new?title=Comment@/blog_md/2019/0718_BashColorincommandlinepromptPS1.md&amp;body=I%20have%20a%20comment!">Leave a comment</a></p>