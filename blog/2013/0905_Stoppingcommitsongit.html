<h1>Stopping commits on git<a name="stoppingcommitsongit"></a></h1>
<p>Who hasn&rsquo;t commited debug code by mistake? It&rsquo;s only normal to forget to remove an #include we added only to test some stuff. Luckily it&rsquo;s easy to tell git that we don&rsquo;t want to commit any changes with a certain string.</p>
<p>On any (git) repo you&rsquo;ll find a .git/hooks folder; add this script in .git/hooks/pre-commit (and don&rsquo;t forget to chmod +x it):</p>
<pre lang="c++" style="display: inline-block; border: 1px solid red;">#!/bin/sh
if [ 0 != <code>git diff | grep &amp;quot;STOPCOMMIT&amp;quot; | wc -l
</code> ]; then
    echo &quot;Error: STOPCOMMIT found, remove it before commiting&quot;;
    git diff
    exit 1
fi
</pre>
<p>Now git will check your commits and stop them if they contain the STOPCOMMIT string. Now you can add all the debug changes you want, as long as you add a //STOPCOMMIT after them you&rsquo;ll never end up commiting them by mistake.</p>