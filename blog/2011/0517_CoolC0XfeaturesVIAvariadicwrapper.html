<p><link rel="stylesheet" href="https://unpkg.com/chota@latest"></p>
<h1>Nico Brailovsky's blog<a name="nicobrailovskysblog"></a></h1>
<h1>Menu<a name="menu"></a></h1>
<ul>
<li><a href="/">Home</a></li>
<li><a href="/blog/index.html">Blog</a></li>
<li><a href="/blog/history.html">History</a></li>
</ul>
<h1>Cool C++0X features VI: A variadic wrapper<a name="coolc0xfeaturesviavariadicwrapper"></a></h1>
<p>Let's work on the last variadic exercise, a wrapper. Say you have something like this:</p>
<pre lang="c++"><code lang="c++">#include <iostream>
void do_something() { std::cout &lt;&lt; <strong>PRETTY_FUNCTION</strong> &lt;&lt; "n"; }
int main() {
    do_something();
    return 0;
}
</code></pre>
<p>And you want to wrap do_something with something else (Remember <a href="/blog/2010/0622_Cprettyfunctions.html">__PRETTY_FUNCTION__</a>?). This is a solution, the worst one though (or, to be accurate, the most boring one):</p>
<pre lang="c++"><code lang="c++">#include <iostream>
void do_something() { std::cout &lt;&lt; <strong>PRETTY_FUNCTION</strong> &lt;&lt; "n"; }
void wrap() {
    std::cout &lt;&lt; <strong>PRETTY_FUNCTION</strong> &lt;&lt; "n";
    do_something();
}
int main() {
    wrap();
    return 0;
}
</code></pre>
<p>Why is it so bad? Let's say you don't control do_something, you just control the wrapper. You may not even control main(), it may be beyond your scope. That means each time do_something changes, or adds an overload, you have to change your code. That's ugly and you should already know how to set up a variadic function to forward the arguments to do_something. Give it a try, next time the solution.</p>
<hr />
<p>Post by Nico Brailovsky @ 2011-05-17 -
    <a href="/blog/2011/0517_CoolC0XfeaturesVIAvariadicwrapper.html">Permalink</a> -
    <a href="https://github.com/nicolasbrailo/nicolasbrailo.github.io/issues/new?title=Comment@/blog_md/2011/0517_CoolC0XfeaturesVIAvariadicwrapper.md&amp;body=I%20have%20a%20comment!">Leave a comment</a></p>